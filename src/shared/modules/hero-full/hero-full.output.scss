@import "../../base/variables-colors";
@import "../../base/variables-typography";
@import "../../base/variables-breakpoints";
@import "../../base/variables";
@import "../../base/mixins";

.HeroFull {
    margin: 0 calc(0px - env(safe-area-inset-right)) 0 calc(0px - env(safe-area-inset-left));
    &-Inner {
        position: relative;
        height: 500px;
        height: 100vh;
        max-height: 200vw;
        margin: 0;
        padding: 0 env(safe-area-inset-right) 0 env(safe-area-inset-left);
        color: #fff;
        background-position: 0 0;
        background-color: $color-imaloading;
        background-image: $stripes-imaloading;
        // compensate for 100vh being the maximum screen height not the minumum (which is what you get at paload time) - see the docs 3.2.5
        .android-mobile & {
            max-height: calc(100vh - 56px);
        }
        .android-tablet & {
            max-height: calc(100vh - 96px);
        }
        .android-vh-old &,
        .samsung-browser & {
            max-height: 100vh;
        }
        .iphone & {
            max-height: calc(100vh - 75px);
            @media screen AND (min-height:635px) { // iPhone X (The new "home bar" and rounded corners adds quite a bit of chrome);
                max-height: calc(100vh - 114px);
            }
            @media screen AND (orientation:landscape) {
                max-height: calc(100vh - 50px);
            }
        }
        .ipad & {
            max-height: calc(100vh - 60px);
        }
        /* protected areas! */
        // XXS, shallow screen
        @media (max-width: $less-than-xs) {
            padding-top: 60px;
        }
        // XXS - but with readmore link
        @media (max-width: $less-than-xs) AND (min-height: $h-sm-and-up) {
            padding-top: 60px;
            padding-bottom: 80px;
        }
        // bigger than XXS - but with the smaller nav but NO readmore link
        @media (min-width: $xs-and-up) AND (max-height: $h-less-than-sm) {
            padding-top: 100px;
        }
        // bigger than XXS - but with the smaller nav and readmore link
        @media (min-width: $xs-and-up) AND (min-height: $h-sm-and-up) AND (max-height: $h-less-than-md) {
            padding-top: 100px;
            padding-bottom: 80px;
        }
        // bigger than XXS - with the larger nav and readmore link
        @media (min-width: $xs-and-up) AND (min-height: $h-md-and-up) {
            padding-top: 130px;
            padding-bottom: 80px;
        }
    }
    &-Frame {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 0;
        overflow: hidden;
        background-size: cover;
        background-position: 50% 50%;
        // fade in - see 3.2.6
        @supports (animation: none) {
            opacity: 0;
            transition: opacity 0s;
            animation: fade-in 300ms forwards;
            animation-delay: 2s;
            .no-js &,
            .HeroFull--ready & {
                opacity: 1;
                animation: none;
                transition: opacity 300ms;
            }
        }
    }
    &-Img {
        width: 100%;
        height: auto;
        @media (orientation:portrait) {
            width: auto;
            height: 100%;
        }
        @supports (object-fit: cover) {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: 50% 50%;
        }
        &.ImaImg--Hidden {
            display: none;
        }
    }
    &-Mask {
        position: absolute;
        bottom: -0.5px;
        left: 0;
        right: 0;
        height: 25px;
        @media (min-width: $md-and-up) {
            height: 30px;
        }
        @media (min-width: $lg-and-up) {
            height: 50px;
        }
    }
    &-Main {
        display: table;
        position: relative;
        z-index: 0;
        width: 100%;
        height: 100%;
        margin: 0 auto;
        @media (min-width: $xs-and-up) AND (min-height: $h-sm-and-up) {
            min-height: 500px;
        }
        // fade in - see 3.2.6
        @supports (animation: none) {
            opacity: 0;
            transition: opacity 0s;
            animation: fade-in 300ms forwards;
            animation-delay: 2s;
            .no-js &,
            .HeroFull--ready & {
                opacity: 1;
                animation: none;
                transition: opacity 300ms;
            }
        }
        &-Inner {
            display: table-cell;
            height: 100%;
            padding: 0 $gutter;
            vertical-align: middle;
        }
    }
    &-Title {
        @include typo-header();
        margin: 0 auto;
        text-align: center;
        font-size: $font-size-lg;
        text-shadow: 0 0 20px rgba(0,0,0,0.4);
        // width controls used to control the line break in the headline
        &--lg {
            max-width: 10em;
        }
        &--md {
            max-width: 8em;
        }
        &--sm {
            max-width: 6em;
        }
        // font-size: std android or bigger (basically not small phones) in portrait
        @media (min-width: 360px) {
            font-size: 3.25rem;
        }
        // font-size: phones portrait
        @media (max-width: $less-than-xs) AND (orientation:portrait) {
            font-size: 2.4rem;
        }
        // font-size: phones landscape
        @media (max-height: $h-less-than-sm) AND (orientation:landscape) {
            font-size: 2.4rem;
        }
        // width controls: mostly phones in landscape, go wide and override any width controls
        @media (max-height: $h-less-than-sm) {
            max-width: 100%;
        }
        line-height: 1;
    }
    &-Text {
        @include typo-regular();
        display: block;
        max-width: 25em;
        margin: 0.5em auto 0;
        line-height: 1.4;
        font-size: $font-size-md;
        text-align: center;
        text-shadow: 0 0 15px rgba(0,0,0,0.4);
        @media (min-width: $xs-and-up) AND (min-height: $h-sm-and-up) {
            margin: 1em auto 0;
        }
    }
    &-PreModules {
        text-align: center;
        margin: 1em 0 0;
        &-Title {
            @include typo-header-emphasis();
            margin: 0 0 0.5em;
            line-height: 1.3;
        }
    }
    &-Field {
        margin: 0 5px;
        max-width: calc(100% - #{$gutter*2});
        text-align: left;
        vertical-align: middle;
        &--block {
            width: 375px;
        }
    }
    &-Btn {
        margin: 0;
        vertical-align: middle;
    }
    &-Link {
        @include typo-header();
        margin: 0.5em;
        font-size: $font-size-lg;
        color: #fff;
        &:hover,
        &:visited {
            color: #fff;
        }
        &--block {
            display: block;
        }
        &-Icon {
            width: 1.3em;
            height: 1.3em;
            vertical-align: middle;
            margin-top: -0.23em;
            fill: #fff;
        }
    }
    &-More {
        @include normalize-button;
        display: none;
        position: absolute;
        left: 50%;
        bottom: $gutter*2;
        width: 10em;
        margin: 0 0 0 -5em;
        color: #fff;
        -webkit-tap-highlight-color: rgba(255,255,255,0);
        outline: none;
        user-select: none;
        cursor: pointer;
        @media (min-height:$h-sm-and-up) {
            display: block;
        }
        // fade in - see 3.2.6
        @supports (animation: none) {
            opacity: 0;
            transition: opacity 0s;
            animation: fade-in 300ms forwards;
            animation-delay: 2s;
            .no-js &,
            .HeroFull--ready & {
                opacity: 1;
                animation: none;
                transition: opacity 300ms;
            }
        }
        &-Icon {
            display: block;
            width: 1.4em;
            height: 1.4em;
            margin: 0.2em auto 0;
            color: transparent;
            @media (min-width: $xs-and-up) {
                margin-top: 0.4em;
            }
            &.disc {
                fill: none;
            }
            &.circle {
                fill: #fff;
            }
        }
    }
}